<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mon Profil - Gestion des Frais</title>
    <link rel="stylesheet" href="../styles/index.css" />
  </head>
  <body class="bg-background">
    <div class="flex h-screen overflow-hidden">
      <!-- Sidebar Container -->
      <div id="sidebar-container"></div>

      <!-- Main Content -->
      <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Header Container -->
        <div id="header-container"></div>

        <!-- Page Content -->
        <main class="flex-1 overflow-y-auto p-4 md:p-6">
          <div class="max-w-4xl mx-auto space-y-6">
            <!-- Page Header -->
            <div>
              <h1 class="text-2xl font-bold">Mon profil</h1>
              <p class="text-muted-foreground">
                Gérez vos informations personnelles et vos préférences
              </p>
            </div>

            <!-- User Info Card -->
            <div class="bg-card rounded-lg border p-6">
              <div class="flex flex-col md:flex-row items-center gap-6">
                <div
                  class="w-24 h-24 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-3xl font-medium"
                  id="user-avatar"
                >
                  UN
                </div>
                <div class="flex-1 text-center md:text-left">
                  <h2 class="text-2xl font-medium" id="user-fullname">
                    Utilisateur
                  </h2>
                  <p class="text-muted-foreground" id="user-email-display">
                    email@example.com
                  </p>
                  <div class="mt-2 inline-block">
                    <span
                      class="text-xs px-2 py-1 rounded-full"
                      id="user-role-badge"
                    >
                      Employé
                    </span>
                  </div>
                </div>
                <button
                  class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all border bg-background text-foreground hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"
                >
                  <i data-lucide="camera" class="h-4 w-4"></i>
                  Changer la photo
                </button>
              </div>
            </div>

            <!-- Personal Info -->
            <div class="bg-card rounded-lg border">
              <div class="p-6 border-b">
                <h3 class="text-lg font-semibold flex items-center gap-2">
                  <i data-lucide="user" class="h-5 w-5"></i>
                  Informations personnelles
                </h3>
              </div>
              <div class="p-6 space-y-4">
                <form id="profile-form">
                  <div class="grid gap-4 md:grid-cols-2">
                    <div class="space-y-2">
                      <label for="prenom" class="text-sm font-medium"
                        >Prénom</label
                      >
                      <input
                        id="prenom"
                        type="text"
                        class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                      />
                    </div>
                    <div class="space-y-2">
                      <label for="nom" class="text-sm font-medium">Nom</label>
                      <input
                        id="nom"
                        type="text"
                        class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                      />
                    </div>
                  </div>
                  <div class="space-y-2">
                    <label for="email" class="text-sm font-medium">Email</label>
                    <div class="relative">
                      <i
                        data-lucide="mail"
                        class="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                      ></i>
                      <input
                        id="email"
                        type="email"
                        class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background pl-9 px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                      />
                    </div>
                  </div>
                  <div class="grid gap-4 md:grid-cols-2">
                    <div class="space-y-2">
                      <label for="adresse" class="text-sm font-medium"
                        >Adresse</label
                      >
                      <input
                        id="adresse"
                        type="text"
                        class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                      />
                    </div>
                    <div class="space-y-2">
                      <label for="ville" class="text-sm font-medium"
                        >Ville</label
                      >
                      <input
                        id="ville"
                        type="text"
                        class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                      />
                    </div>
                  </div>
                  <button
                    type="submit"
                    class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2"
                  >
                    Enregistrer les modifications
                  </button>
                </form>
              </div>
            </div>

            <!-- Vehicle Info (for employe role) -->
            <div class="bg-card rounded-lg border" id="vehicle-section">
              <div class="p-6 border-b">
                <h3 class="text-lg font-semibold flex items-center gap-2">
                  <i data-lucide="car" class="h-5 w-5"></i>
                  Mon véhicule
                </h3>
              </div>
              <div class="p-6 space-y-4">
                <form id="vehicle-form">
                  <div class="grid gap-4 md:grid-cols-2">
                    <div class="space-y-2">
                      <label for="plaque" class="text-sm font-medium"
                        >Plaque d'immatriculation</label
                      >
                      <input
                        id="plaque"
                        type="text"
                        class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                      />
                    </div>
                    <div class="space-y-2">
                      <label for="marque" class="text-sm font-medium"
                        >Marque</label
                      >
                      <input
                        id="marque"
                        type="text"
                        class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                      />
                    </div>
                  </div>
                  <div class="grid gap-4 md:grid-cols-2">
                    <div class="space-y-2">
                      <label for="modele" class="text-sm font-medium"
                        >Modèle</label
                      >
                      <input
                        id="modele"
                        type="text"
                        class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                      />
                    </div>
                    <div class="space-y-2">
                      <label for="cylindree" class="text-sm font-medium"
                        >Cylindrée (CV)</label
                      >
                      <input
                        id="cylindree"
                        type="number"
                        class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                      />
                    </div>
                  </div>
                  <div class="space-y-2">
                    <label for="type-essence" class="text-sm font-medium"
                      >Type d'essence</label
                    >
                    <select
                      id="type-essence"
                      class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                    >
                      <option value="Diesel">Diesel</option>
                      <option value="Essence95">Essence 95</option>
                      <option value="Essence98">Essence 98</option>
                      <option value="Électrique">Électrique</option>
                      <option value="Éthanol">Éthanol</option>
                      <option value="Gazole">Gazole</option>
                      <option value="Autre">Autre</option>
                    </select>
                  </div>
                  <button
                    type="submit"
                    class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2"
                  >
                    Enregistrer les modifications
                  </button>
                </form>
              </div>
            </div>

            <!-- Security -->
            <div class="bg-card rounded-lg border">
              <div class="p-6 border-b">
                <h3 class="text-lg font-semibold flex items-center gap-2">
                  <i data-lucide="lock" class="h-5 w-5"></i>
                  Sécurité
                </h3>
              </div>
              <div class="p-6 space-y-4">
                <form id="password-form">
                  <div class="space-y-2">
                    <label for="current-password" class="text-sm font-medium"
                      >Mot de passe actuel</label
                    >
                    <input
                      id="current-password"
                      type="password"
                      class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                    />
                  </div>
                  <div class="h-px bg-border my-4"></div>
                  <div class="space-y-2">
                    <label for="new-password" class="text-sm font-medium"
                      >Nouveau mot de passe</label
                    >
                    <input
                      id="new-password"
                      type="password"
                      placeholder="Min. 8 caractères"
                      class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                    />
                  </div>
                  <div class="space-y-2">
                    <label for="confirm-password" class="text-sm font-medium"
                      >Confirmer le nouveau mot de passe</label
                    >
                    <input
                      id="confirm-password"
                      type="password"
                      class="flex h-9 w-full min-w-0 rounded-md border border-input bg-input-background px-3 py-1 text-base transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]"
                    />
                  </div>
                  <button
                    type="submit"
                    class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2"
                  >
                    Changer le mot de passe
                  </button>
                </form>
              </div>
            </div>

            <!-- Stats (for employe role) -->
            <div class="bg-card rounded-lg border" id="stats-section">
              <div class="p-6 border-b">
                <h3 class="text-lg font-semibold">Statistiques du compte</h3>
              </div>
              <div class="p-6">
                <div class="grid gap-4 md:grid-cols-3">
                  <div>
                    <p class="text-sm text-muted-foreground">Membre depuis</p>
                    <p class="text-2xl font-medium mt-2" id="stat-member-since">
                      -
                    </p>
                  </div>
                  <div>
                    <p class="text-sm text-muted-foreground">Frais déclarés</p>
                    <p class="text-2xl font-medium mt-2" id="stat-total-frais">
                      0
                    </p>
                  </div>
                  <div>
                    <p class="text-sm text-muted-foreground">Montant total</p>
                    <p class="text-2xl font-medium mt-2" id="stat-total-amount">
                      0.00 €
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </main>

        <!-- Footer Container -->
        <div id="footer-container"></div>
      </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <!-- Scripts -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script type="module" src="../scripts/profil.ts"></script>
  </body>
</html>
